(()=>{"use strict";const t={myLibrary:JSON.parse(localStorage.getItem("myLibrary"))||[],addBook:(t,e,r,a,o)=>{let d=new book(t,e,r,a,o);(void 0).mythis.push(d),localStorage.setItem("myLibrary",JSON.stringify((void 0).myLibrary))},deleteBook:t=>{let e=(void 0).mythis.find((({bookID:e})=>e===parseInt(t.id))),r=(void 0).mythis.indexOf(e);-1!==r&&(void 0).mythis.splice(r,1),localStorage.setItem("myLibrary",JSON.stringify((void 0).myLibrary))},changeStatus:t=>{let e=(void 0).myLibrary[t];"Unread"===e.status?e.status="Read":e.status="Unread",localStorage.setItem("myLibrary",JSON.stringify((void 0).myLibrary))}},e={a:0,tbody:document.querySelector("tbody"),submitButton:document.querySelector("#submit"),title:document.querySelector("#title"),author:document.querySelector("#author"),pages:document.querySelector("#pages"),status:document.querySelector("#status"),create_tr:()=>document.createElement("tr"),create_td:()=>document.createElement("td"),create_deleteButton:()=>{let t=e.create_td(),r=document.createElement("button");return r.setAttribute("id",e.a),r.innerText="Delete",t.appendChild(r),t},create_statusButton:t=>{let r=e.create_td(),a=document.createElement("button");return a.setAttribute("id",e.a),a.innerText=t,r.appendChild(a),r},renderBook:(t,r,o,d,i)=>{let n=[t=e.a,r,o,d,i];tr=e.create_tr(),tr.setAttribute("id",a);for(let t=1;t<n.length;t++){let r=n[t];4===t?(statusButton=e.create_statusButton(i),statusButton.addEventListener("click",Library.changeStatus),tr.appendChild(statusButton)):(td=e.create_td(),td.innerText=r,tr.appendChild(td))}deleteButton=e.create_deleteButton(),deleteButton.addEventListener("click",Library.deleteBook),tr.appendChild(deleteButton),e.tbody.appendChild(tr);let l=new book(t,r,o,d,i);Library.myLibrary.push(l),localStorage.setItem("myLibrary",JSON.stringify(Library.myLibrary))}},r=e;t.myLibrary.forEach((function(e){let a=Array.from(Object.keys(e)),o=r.create_tr();for(let d=1;d<a.length;d++){let i=e[a[d]];if(4===d){let e=r.create_statusButton(i);e.addEventListener("click",t.changeStatus),o.appendChild(e)}else{let t=r.create_td();t.innerText=i,o.appendChild(t)}}let d=r.create_deleteButton();d.addEventListener("click",t.deleteBook),o.setAttribute("id",e.bookID),o.appendChild(d),r.tbody.appendChild(o),r.a++})),r.submitButton.addEventListener("click",(function(){isNaN(r.pages.value)?console.log("uh-oh"):t.addBook(a,r.title.value,r.author.value,parseInt(r.pages.value),r.status.value)}))})();